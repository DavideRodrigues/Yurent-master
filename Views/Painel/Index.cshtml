@model YURent.ViewModels.Painel

@{ ViewData["Title"] = "Painel";
}

<div class="container-fluid container-md mt-5">
    <div class="row">
        <div class="col-12 col-md-4 col-lg-3 col-xl-2">
            <div class="text-center shadow">
                @* Info Utilizador *@
                <img id="avatar-painel" src="@Model.Utilizador.UrlImagemPerfil" />
                <p class=" text-center mt-2">@Model.Utilizador.Nome</p>
                <hr />
                <p>@Model.Utilizador.Email</p>
                <p>Cidade: Almada</p>
                @if (Model.Verificacao.Telemovel != null)
                {
                <p>@Model.Verificacao.Telemovel</p>
                }
                <img id="star-painel" src="~/images/Stars/5-star.png" />
            </div>
            <div class="shadow correio">
                @* Mensagens *@
                <div class="d-flex justify-content-between correio-header">
                    <h6>Correio</h6>
                    <h6 class="link">Ver Tudo</h6>
                </div>
                <div class="mensagem-naovista d-flex">
                    <img class="avatar" src="~/images/avatar.png" />
                    <div class="ml-2">
                        <p class="m-0">Username</p>
                        <p class="m-0">Olá, blablabla</p>
                    </div>
                    <p>10m</p>
                </div>
                <div class="mensagem-vista d-flex">
                    <img class="avatar" src="~/images/avatar.png" />
                    <div class="ml-2">
                        <p class="m-0">Username</p>
                        <p class="m-0">Olá, blablabla</p>
                    </div>
                    <p>10h</p>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-8 col-lg-8 col-xl-9 mt-3 my-5 my-md-0">
            <div class="shadow">
                <div class="p-2 pl-4 border-bottom">
                    <h3 class="font-weight-normal">Pendente Confirmação</h3>
                </div>
            </div>
            @* Pendente Confirmação *@
            @foreach (var reserva in Model.Reservas)
            {
            if (reserva.Aceite == false)
            {
            <div class="border d-flex justify-content-between align-items-center">
                <img class="imagem-estado d-none d-md-flex" src="@reserva.Anuncio.UrlImagem" />
                <div class="ml-2 ml-md-0">
                    <p class="m-0">@reserva.Anuncio.Título</p>
                    <p class="m-0">@reserva.Anuncio.Preco_dia€</p>
                </div>
                <div>
                    <p class="m-0">Desde</p>
                    <p class="m-0">@reserva.Data_inicio.Date</p>
                </div>
                <div>
                    <p class="m-0">Até</p>
                    <p class="m-0">@reserva.Data_fim.Date</p>
                </div>
                <div class="d-flex mr-2">
                    <a href="#"><img class="imagem-aceitar" src="~/images/AceitaRecusa/aceitar.png" /></a>
                    <a href="#"><img class="imagem-aceitar" src="~/images/AceitaRecusa/recusar.png" /></a>
                </div>
            </div>
            }
            }
            @* A decorrer *@
            <div class="shadow">
                <div class="p-2 pl-4 border-bottom mt-3">
                    <h3 class="font-weight-normal">Em progresso</h3>
                </div>
            </div>

            @foreach (var reserva in Model.Reservas)
            {
            if (reserva.Aceite == true && reserva.Cancelado == false )
            {
            <div class="border d-flex justify-content-between align-items-center">
                <img class="imagem-estado d-none d-md-flex" src="@reserva.Anuncio.UrlImagem" />
                <div class="ml-2 ml-md-0">
                    <p class="m-0">@reserva.Anuncio.Título</p>
                    <p class="m-0">@reserva.Anuncio.Preco_dia€</p>
                </div>
                <div>
                    <p class="m-0">Desde</p>
                    <p class="m-0">@reserva.Anuncio.Data_publicacao</p>
                </div>
                <div>
                    <p class="m-0">Até</p>
                    <p class="m-0">12/12/20</p>
                </div>
                <div class="mr-2">
                    <a class="btn btn-orange text-white" href="">A decorrer</a>
                </div>
            </div>
            }
            }


            @* Histórico *@
            <div class="shadow">
                <div class="p-2 pl-4 border-bottom mt-3">
                    <h3 class="font-weight-normal">Histórico</h3>
                </div>
            </div>

            @foreach (var reserva in Model.Reservas)
            {
            if (reserva.Aceite == true && reserva.Cancelado == false)
            {
            <div class="border d-flex justify-content-between align-items-center">
                <img class="imagem-estado d-none d-md-flex" src="@reserva.Anuncio.UrlImagem" />
                <div class="ml-2 ml-md-0">
                    <p class="m-0">@reserva.Anuncio.Título</p>
                    <p class="m-0">@reserva.Anuncio.Preco_dia€</p>
                </div>
                <div>
                    <p class="m-0">Desde</p>
                    <p class="m-0">@reserva.Anuncio.Data_publicacao</p>
                </div>
                <div>
                    <p class="m-0">Até</p>
                    <p class="m-0">12/12/20</p>
                </div>
                <div class="mr-2">
                    <a class="btn btn-orange text-white" href="">Finalizado</a>
                </div>
            </div>
            }
            }
        </div>
    </div>
</div>